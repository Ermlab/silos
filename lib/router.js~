Router.configure({
layoutTemplate: 'layout',
waitOn: function() { return Meteor.subscribe('logBooks',{AuthorID : Meteor.userId()}) }
});

Router.map(function() {
this.route('startPage', {
path: '/'
});
this.route('showLogBooks', {path: '/showLogBooks'});
this.route('createLogBook', {path: '/CreateLogBook'});
    
});

var requireLogin = function(pause){
 if (! Meteor.user()) {
	this.render('accessDenied');
	pause();
	}
 }

Router.onBeforeAction(requireLogin, {only: 'createLogBooks'});
Router.onBeforeAction(requireLogin, {only: 'showLogBooks'});


